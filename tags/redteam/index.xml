<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Redteam on 倾旋的博客</title><link>https://payloads.online/tags/redteam/</link><description>Recent content in Redteam on 倾旋的博客</description><generator>Hugo</generator><language>zh-cn</language><copyright>倾旋 All rights reserved</copyright><lastBuildDate>Thu, 10 Aug 2023 00:00:00 +0000</lastBuildDate><atom:link href="https://payloads.online/tags/redteam/index.xml" rel="self" type="application/rss+xml"/><item><title>红队行动守则</title><link>https://payloads.online/archivers/2023-08-10/redteam-operation-code-of-conduct/</link><pubDate>Thu, 10 Aug 2023 00:00:00 +0000</pubDate><guid>https://payloads.online/archivers/2023-08-10/redteam-operation-code-of-conduct/</guid><description>&lt;!-- raw HTML omitted -->
&lt;!-- raw HTML omitted -->
&lt;h2 id="攻击注意事项">攻击注意事项&lt;/h2>
&lt;ul>
&lt;li>使用免杀Webshell（文件特征、流量特征），禁止使用开源社区通用Webshell，这些是我过去常用的Webshell: &lt;a href="https://github.com/Rvn0xsy/usefull-code">https://github.com/Rvn0xsy/usefull-code&lt;/a>&lt;/li>
&lt;li>尽可能的删除依赖工具的软件特征、流量特征&lt;/li>
&lt;li>打点后先进行权限维持(并且最好都额外打一个内存马) 原因：单个Webshell即使免杀，也有可能被防守方发现，一旦被删除就失去了服务器控制权&lt;/li>
&lt;li>不执行敏感的操作(如反弹Shell)&lt;/li>
&lt;li>获取权限后的信息收集，通过网络、应用业务、服务器登录日志、命令执行日志判断当前机器是否是蜜罐&lt;/li>
&lt;li>核心关键隧道：使用规避内存扫描的C2解决方案&lt;/li>
&lt;li>端口反连使用常见端口，伪装正常应用流量(25,110,80,443,993,995,8080,8443)&lt;/li>
&lt;li>C2基础设施配置为HTTPS/DNS上线，最好勿用HTTP，证书采用CDN服务商或Let’s Encrypt&lt;/li>
&lt;li>搭建正向的Web代理后，应当先研究如何提升隧道传输质量，避免多人扫描&lt;/li>
&lt;/ul>
&lt;p>&lt;a href="https://payloads.online/archivers/2020-11-01/1/">Web正向代理的思考 | 倾旋的博客&lt;/a>&lt;/p>
&lt;ul>
&lt;li>内网探测工具的选择尽可能脚本化、去特征、低频率&lt;/li>
&lt;li>隧道建立：采用开源魔改工具实现，避免流量和样本特征与公开的重合&lt;/li>
&lt;li>弱口令扫描：低频、小字典、优先尝试SSH/RDP/MySQL/MSSQL等弱口令（分两类：有数据的服务器、有管理端口的服务器）&lt;/li>
&lt;li>登录Linux服务器，应当避免Bash History被记录可使用sh来执行命令，或设置环境变量避免Bash记录历史命令。&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
&lt;table style="border-spacing:0;padding:0;margin:0;border:0;">&lt;tr>&lt;td style="vertical-align:top;padding:0;margin:0;border:0;">
&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
&lt;/span>&lt;/code>&lt;/pr</description></item></channel></rss>