<!DOCTYPE html>
<html lang=""><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>搭建Mattermost并开启Https</title>
    <meta name="description" content="倾旋的博客">
    <meta name="author" content='倾旋'>

    <link href="https://fonts.googleapis.com/css2?family=Inconsolata:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w==" crossorigin="anonymous">

    
    <link rel="stylesheet" href="/sass/researcher.min.css">

    
        <link rel="icon" type="image/ico" href="https://payloads.online/favicon.ico">
    

    
        
    
</head>

    <body><div class="container mt-5">
    <nav class="navbar navbar-expand-sm flex-column flex-sm-row text-nowrap p-0">
        <a class="navbar-brand mx-0 mr-sm-auto" style="color: #dc3545;" href="https://payloads.online" title="倾旋的博客">
          
          倾旋的博客
        </a>
        <div class="navbar-nav flex-row flex-wrap justify-content-center">
            
                
                
                    <a class="nav-item nav-link" href="/about" title="About">
                        About
                    </a>
                    
                        <span class="nav-item navbar-text mx-1">/</span>
                    
                
                    <a class="nav-item nav-link" href="/links/" title="Links">
                        Links
                    </a>
                    
                        <span class="nav-item navbar-text mx-1">/</span>
                    
                
                    <a class="nav-item nav-link" href="/post/" title="Posts">
                        Posts
                    </a>
                    
                        <span class="nav-item navbar-text mx-1">/</span>
                    
                
                    <a class="nav-item nav-link" href="/index.xml" title="Rss">
                        Rss
                    </a>
                    
                
            
        </div>
    </nav>
</div>
<hr>
<div id="content">
<div class="container">
    <p>本文记录一下搭建Mattermost服务的过程</p>
<ul>
<li>目录
{:toc}</li>
</ul>
<h2 id="0x00-简介">0x00 简介</h2>
<p>Mattermost 是一个 Slack 的开源替代品。</p>
<p>Mattermost 采用 Go 语言开发，这是一个开源的团队通讯服务。为团队带来跨 PC 和移动设备的消息、文件分享，提供归档和搜索功能。</p>
<h2 id="0x01-下载安装">0x01 下载安装</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">wget https://releases.mattermost.com/3.6.2/mattermost-3.6.2-linux-amd64.tar.gz
tar zxvf mattermost-3.6.2-linux-amd64.tar.gz
</code></pre></div><h2 id="0x02-数据库环境准备---postgrsql">0x02 数据库环境准备 - postgrsql</h2>
<p>它其实支持两种数据库 [Mysql &amp; Postgresql]</p>
<p>但是我不推荐使用MySQL，它在启动的时候会创建数据库，这个过程容易出很多问题，根数据库存储引擎有关。</p>
<p>在开始之前，你需要根据你的操作系统来安装Postgresql =&gt; <a href="https://docs.mattermost.com/install/install-rhel-66.html#installing-postgresql-database">看这里</a></p>
<p>设置数据库过程：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">root@Kali:~# service postgresql start
root@Kali:~# su postgres 
postgres@Kali:/root$ psql
psql <span style="color:#f92672">(</span>9.6.2<span style="color:#f92672">)</span>
输入 <span style="color:#e6db74">&#34;help&#34;</span> 来获取帮助信息.

postgres<span style="color:#f92672">=</span><span style="color:#75715e"># CREATE DATABASE mattermost; # 创建数据库</span>
postgres<span style="color:#f92672">=</span><span style="color:#75715e"># CREATE USER mmuser WITH PASSWORD &#39;123456&#39;; # 创建一个用户</span>
postgres<span style="color:#f92672">=</span><span style="color:#75715e"># GRANT ALL PRIVILEGES ON DATABASE mattermost to mmuser; # 将数据库的权限赋予用户</span>
postgre<span style="color:#f92672">=</span><span style="color:#75715e"># \q # 退出</span>
</code></pre></div><p>设置完毕后，我们需要更改一些配置。</p>
<h2 id="0x03-设置数据库">0x03 设置数据库</h2>
<p>打开<code>config/config.json</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json"><span style="color:#e6db74">&#34;DriverName&#34;</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#e6db74">&#34;postgres&#34;</span><span style="color:#960050;background-color:#1e0010">,</span>
        <span style="color:#e6db74">&#34;DataSource&#34;</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#e6db74">&#34;postgres://mmuser:123456@127.0.0.1:5432/mmtest?sslmode=disable\u0026connect_timeout=10&#34;</span><span style="color:#960050;background-color:#1e0010">,</span>
</code></pre></div><p>上面是我改好后的状态，可以参照我的。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json"><span style="color:#e6db74">&#34;DataSource&#34;</span><span style="color:#960050;background-color:#1e0010">:</span><span style="color:#e6db74">&#34;postgresql&#34;</span><span style="color:#960050;background-color:#1e0010">://用户名:密码@数据库地址:数据库端口/数据库名称?其他配置……</span>
</code></pre></div><h2 id="0x04-支持中文">0x04 支持中文</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json"><span style="color:#e6db74">&#34;LocalizationSettings&#34;</span><span style="color:#960050;background-color:#1e0010">:</span> {
        <span style="color:#f92672">&#34;DefaultServerLocale&#34;</span>: <span style="color:#e6db74">&#34;zh-CN&#34;</span>,
        <span style="color:#f92672">&#34;DefaultClientLocale&#34;</span>: <span style="color:#e6db74">&#34;zh-CN&#34;</span>,
        <span style="color:#f92672">&#34;AvailableLocales&#34;</span>: <span style="color:#e6db74">&#34;zh-CN&#34;</span>
    }
</code></pre></div><h2 id="0x05-允许任何用户注册">0x05 允许任何用户注册</h2>
<p><code>&quot;EnableOpenServer&quot;: true</code></p>
<h2 id="0x06-创建证书">0x06 创建证书</h2>
<pre><code class="language-basg" data-lang="basg">root@Kali:~/mattermost/ssl# openssl genrsa -des3 -out root.key 1024
Generating RSA private key, 1024 bit long modulus
........++++++
............................++++++
e is 65537 (0x010001)
Enter pass phrase for root.key:
Verifying - Enter pass phrase for root.key:

root@Kali:~/mattermost/ssl# openssl req -new -x509 -key root.key -out root.crt -days 365
Enter pass phrase for root.key:
You are about to be asked to enter information that will be incorporated
into your certificate request.
What you are about to enter is what is called a Distinguished Name or a DN.
There are quite a few fields but you can leave some blank
For some fields there will be a default value,
If you enter '.', the field will be left blank.
-----
Country Name (2 letter code) [AU]:cn
State or Province Name (full name) [Some-State]:cn
Locality Name (eg, city) []:cn
Organization Name (eg, company) [Internet Widgits Pty Ltd]:cn
Organizational Unit Name (eg, section) []:cn
Common Name (e.g. server FQDN or YOUR name) []:cn
Email Address []:cn@test.com
root@Kali:~/mattermost/ssl#  openssl genrsa -out server.key 1024
Generating RSA private key, 1024 bit long modulus
..............++++++
................++++++
e is 65537 (0x010001)

root@Kali:~/mattermost/ssl#  openssl req -new -key server.key -out server.csr
You are about to be asked to enter information that will be incorporated
into your certificate request.
What you are about to enter is what is called a Distinguished Name or a DN.
There are quite a few fields but you can leave some blank
For some fields there will be a default value,
If you enter '.', the field will be left blank.
-----
Country Name (2 letter code) [AU]:cn
State or Province Name (full name) [Some-State]:cn
Locality Name (eg, city) []:cn
Organization Name (eg, company) [Internet Widgits Pty Ltd]:cn
Organizational Unit Name (eg, section) []:cn
Common Name (e.g. server FQDN or YOUR name) []:cn
Email Address []:cn@test.com
Please enter the following 'extra' attributes
to be sent with your certificate request
A challenge password []:123456
An optional company name []:cn

root@Kali:~/mattermost/ssl# openssl ca -in server.csr -out server.crt -keyfile root.key -cert root.crt -days 365
Using configuration from /usr/lib/ssl/openssl.cnf
Enter pass phrase for root.key:
Can't open ./demoCA/index.txt.attr for reading, No such file or directory
139626525074624:error:02001002:system library:fopen:No such file or directory:../crypto/bio/bss_file.c:74:fopen('./demoCA/index.txt.attr','r')
139626525074624:error:2006D080:BIO routines:BIO_new_file:no such file:../crypto/bio/bss_file.c:81:
Check that the request matches the signature
Signature ok
Certificate Details:
        Serial Number: 1 (0x1)
        Validity
            Not Before: Nov 16 07:00:45 2017 GMT
            Not After : Nov 16 07:00:45 2018 GMT
        Subject:
            countryName               = cn
            stateOrProvinceName       = cn
            organizationName          = cn
            organizationalUnitName    = cn
            commonName                = cn
            emailAddress              = cn@test.com
        X509v3 extensions:
            X509v3 Basic Constraints: 
                CA:FALSE
            Netscape Comment: 
                OpenSSL Generated Certificate
            X509v3 Subject Key Identifier: 
                FA:BA:4F:7B:7D:13:EE:B9:7C:CF:D2:14:C5:19:7F:1D:E7:D1:B8:FF
            X509v3 Authority Key Identifier: 
                keyid:AB:7F:78:D4:7C:D7:F2:5C:E4:6A:0E:15:EF:C5:16:C8:66:C5:BB:54

Certificate is to be certified until Nov 16 07:00:45 2018 GMT (365 days)
Sign the certificate? [y/n]:y
1 out of 1 certificate requests certified, commit? [y/n]y
Write out database with 1 new entries
Data Base Updated
root@Kali:~/mattermost/ssl# ls
demoCA  root.crt  root.key  server.crt  server.csr  server.key
</code></pre><h2 id="0x07-配置ssl参数">0x07 配置SSL参数</h2>
<p>将密钥的位置填入<code>config.json</code>：</p>
<pre><code>&quot;ConnectionSecurity&quot;: &quot;TLS&quot;,
        &quot;TLSCertFile&quot;: &quot;/root/mattermost/ssl/server.crt&quot;,
        &quot;TLSKeyFile&quot;: &quot;/root/mattermost/ssl/server.key&quot;,
        &quot;Forward80To443&quot;: true
</code></pre><p>并且激活允许Mattermost绑定到低端口的功能：</p>
<p><code>sudo setcap cap_net_bind_service=+ep ./platform</code></p>
<h2 id="0x08-启动">0x08 启动</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">root@Kali:~/mattermost/ssl# ../bin/platform 
<span style="color:#f92672">[</span>2017/11/16 15:01:03 CST<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>EROR<span style="color:#f92672">]</span> Failed to load system translations <span style="color:#66d9ef">for</span> <span style="color:#e6db74">&#39;zh-CN&#39;</span> attempting to fall back to <span style="color:#e6db74">&#39;en&#39;</span>
<span style="color:#f92672">[</span>2017/11/16 15:01:03 CST<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>INFO<span style="color:#f92672">]</span> Loaded system translations <span style="color:#66d9ef">for</span> <span style="color:#e6db74">&#39;en&#39;</span> from <span style="color:#e6db74">&#39;/root/mattermost/i18n/en.json&#39;</span>
<span style="color:#f92672">[</span>2017/11/16 15:01:03 CST<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>INFO<span style="color:#f92672">]</span> Current version is 3.6.0 <span style="color:#f92672">(</span>3.6.2/Tue Jan <span style="color:#ae81ff">31</span> 21:02:59 UTC 2017/1a9891f0f5671551d28be54a99155b907480cc5c/a704f18b1b14f56588a8a57042517fc51a826658<span style="color:#f92672">)</span>
<span style="color:#f92672">[</span>2017/11/16 15:01:03 CST<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>INFO<span style="color:#f92672">]</span> Enterprise Enabled: true
<span style="color:#f92672">[</span>2017/11/16 15:01:03 CST<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>INFO<span style="color:#f92672">]</span> Current working directory is /root/mattermost/ssl
<span style="color:#f92672">[</span>2017/11/16 15:01:03 CST<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>INFO<span style="color:#f92672">]</span> Loaded config file from /root/mattermost/config/config.json
<span style="color:#f92672">[</span>2017/11/16 15:01:03 CST<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>INFO<span style="color:#f92672">]</span> Server is initializing...
<span style="color:#f92672">[</span>2017/11/16 15:01:03 CST<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>INFO<span style="color:#f92672">]</span> Pinging SQL master database
<span style="color:#f92672">[</span>2017/11/16 15:01:03 CST<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>INFO<span style="color:#f92672">]</span> Starting <span style="color:#ae81ff">4</span> websocket hubs
<span style="color:#f92672">[</span>2017/11/16 15:01:03 CST<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>INFO<span style="color:#f92672">]</span> License key from https://mattermost.com required to unlock enterprise features.
<span style="color:#f92672">[</span>2017/11/16 15:01:03 CST<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>INFO<span style="color:#f92672">]</span> Starting Server...
<span style="color:#f92672">[</span>2017/11/16 15:01:03 CST<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>INFO<span style="color:#f92672">]</span> Server is listening on :8065
2017/11/16 15:01:15 http: TLS handshake error from 192.168.3.101:56725: tls: first record does not look like a TLS handshake
2017/11/16 15:01:20 http: TLS handshake error from 192.168.3.101:56726: tls: first record does not look like a TLS handshake
2017/11/16 15:01:24 http: TLS handshake error from 192.168.3.106:43963: tls: oversized record received with length <span style="color:#ae81ff">21536</span>
2017/11/16 15:01:24 http: TLS handshake error from 192.168.3.106:43965: tls: oversized record received with length <span style="color:#ae81ff">21536</span>
2017/11/16 15:02:15 http: TLS handshake error from 192.168.3.106:44003: tls: first record does not look like a TLS handshake
2017/11/16 15:02:23 http: TLS handshake error from 192.168.3.106:44005: tls: oversized record received with length <span style="color:#ae81ff">21536</span>
</code></pre></div><p><img src="https://rvn0xsy.oss-cn-shanghai.aliyuncs.com/2017-11-16/0x00.png" alt="0x00"></p>
<h2 id="0x09-我的配置---configjson仅供参考">0x09 我的配置 - (config.json)仅供参考</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json">{
    <span style="color:#f92672">&#34;ServiceSettings&#34;</span>: {
        <span style="color:#f92672">&#34;SiteURL&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;ListenAddress&#34;</span>: <span style="color:#e6db74">&#34;:8065&#34;</span>,
        <span style="color:#f92672">&#34;ConnectionSecurity&#34;</span>: <span style="color:#e6db74">&#34;TLS&#34;</span>,
        <span style="color:#f92672">&#34;TLSCertFile&#34;</span>: <span style="color:#e6db74">&#34;/root/mattermost/ssl/server.crt&#34;</span>,
        <span style="color:#f92672">&#34;TLSKeyFile&#34;</span>: <span style="color:#e6db74">&#34;/root/mattermost/ssl/server.key&#34;</span>,
        <span style="color:#f92672">&#34;UseLetsEncrypt&#34;</span>: <span style="color:#66d9ef">false</span>,
        <span style="color:#f92672">&#34;LetsEncryptCertificateCacheFile&#34;</span>: <span style="color:#e6db74">&#34;./config/letsencrypt.cache&#34;</span>,
        <span style="color:#f92672">&#34;Forward80To443&#34;</span>: <span style="color:#66d9ef">true</span>,
        <span style="color:#f92672">&#34;ReadTimeout&#34;</span>: <span style="color:#ae81ff">300</span>,
        <span style="color:#f92672">&#34;WriteTimeout&#34;</span>: <span style="color:#ae81ff">300</span>,
        <span style="color:#f92672">&#34;MaximumLoginAttempts&#34;</span>: <span style="color:#ae81ff">10</span>,
        <span style="color:#f92672">&#34;SegmentDeveloperKey&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;GoogleDeveloperKey&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;EnableOAuthServiceProvider&#34;</span>: <span style="color:#66d9ef">false</span>,
        <span style="color:#f92672">&#34;EnableIncomingWebhooks&#34;</span>: <span style="color:#66d9ef">true</span>,
        <span style="color:#f92672">&#34;EnableOutgoingWebhooks&#34;</span>: <span style="color:#66d9ef">true</span>,
        <span style="color:#f92672">&#34;EnableCommands&#34;</span>: <span style="color:#66d9ef">true</span>,
        <span style="color:#f92672">&#34;EnableOnlyAdminIntegrations&#34;</span>: <span style="color:#66d9ef">true</span>,
        <span style="color:#f92672">&#34;EnablePostUsernameOverride&#34;</span>: <span style="color:#66d9ef">false</span>,
        <span style="color:#f92672">&#34;EnablePostIconOverride&#34;</span>: <span style="color:#66d9ef">false</span>,
        <span style="color:#f92672">&#34;EnableTesting&#34;</span>: <span style="color:#66d9ef">false</span>,
        <span style="color:#f92672">&#34;EnableDeveloper&#34;</span>: <span style="color:#66d9ef">false</span>,
        <span style="color:#f92672">&#34;EnableSecurityFixAlert&#34;</span>: <span style="color:#66d9ef">true</span>,
        <span style="color:#f92672">&#34;EnableInsecureOutgoingConnections&#34;</span>: <span style="color:#66d9ef">false</span>,
        <span style="color:#f92672">&#34;EnableMultifactorAuthentication&#34;</span>: <span style="color:#66d9ef">false</span>,
        <span style="color:#f92672">&#34;EnforceMultifactorAuthentication&#34;</span>: <span style="color:#66d9ef">false</span>,
        <span style="color:#f92672">&#34;AllowCorsFrom&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;SessionLengthWebInDays&#34;</span>: <span style="color:#ae81ff">30</span>,
        <span style="color:#f92672">&#34;SessionLengthMobileInDays&#34;</span>: <span style="color:#ae81ff">30</span>,
        <span style="color:#f92672">&#34;SessionLengthSSOInDays&#34;</span>: <span style="color:#ae81ff">30</span>,
        <span style="color:#f92672">&#34;SessionCacheInMinutes&#34;</span>: <span style="color:#ae81ff">10</span>,
        <span style="color:#f92672">&#34;WebsocketSecurePort&#34;</span>: <span style="color:#ae81ff">4458</span>,
        <span style="color:#f92672">&#34;WebsocketPort&#34;</span>: <span style="color:#ae81ff">9999</span>,
        <span style="color:#f92672">&#34;WebserverMode&#34;</span>: <span style="color:#e6db74">&#34;gzip&#34;</span>,
        <span style="color:#f92672">&#34;EnableCustomEmoji&#34;</span>: <span style="color:#66d9ef">false</span>,
        <span style="color:#f92672">&#34;RestrictCustomEmojiCreation&#34;</span>: <span style="color:#e6db74">&#34;all&#34;</span>,
        <span style="color:#f92672">&#34;TimeBetweenUserTypingUpdatesMilliseconds&#34;</span>: <span style="color:#ae81ff">5000</span>,
        <span style="color:#f92672">&#34;EnableUserTypingMessages&#34;</span>: <span style="color:#66d9ef">true</span>
    },
    <span style="color:#f92672">&#34;TeamSettings&#34;</span>: {
        <span style="color:#f92672">&#34;SiteName&#34;</span>: <span style="color:#e6db74">&#34;Mattermost&#34;</span>,
        <span style="color:#f92672">&#34;MaxUsersPerTeam&#34;</span>: <span style="color:#ae81ff">50</span>,
        <span style="color:#f92672">&#34;EnableTeamCreation&#34;</span>: <span style="color:#66d9ef">true</span>,
        <span style="color:#f92672">&#34;EnableUserCreation&#34;</span>: <span style="color:#66d9ef">true</span>,
        <span style="color:#f92672">&#34;EnableOpenServer&#34;</span>: <span style="color:#66d9ef">true</span>,
        <span style="color:#f92672">&#34;RestrictCreationToDomains&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;EnableCustomBrand&#34;</span>: <span style="color:#66d9ef">false</span>,
        <span style="color:#f92672">&#34;CustomBrandText&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;CustomDescriptionText&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;RestrictDirectMessage&#34;</span>: <span style="color:#e6db74">&#34;any&#34;</span>,
        <span style="color:#f92672">&#34;RestrictTeamInvite&#34;</span>: <span style="color:#e6db74">&#34;all&#34;</span>,
        <span style="color:#f92672">&#34;RestrictPublicChannelManagement&#34;</span>: <span style="color:#e6db74">&#34;all&#34;</span>,
        <span style="color:#f92672">&#34;RestrictPrivateChannelManagement&#34;</span>: <span style="color:#e6db74">&#34;all&#34;</span>,
        <span style="color:#f92672">&#34;RestrictPublicChannelCreation&#34;</span>: <span style="color:#e6db74">&#34;all&#34;</span>,
        <span style="color:#f92672">&#34;RestrictPrivateChannelCreation&#34;</span>: <span style="color:#e6db74">&#34;all&#34;</span>,
        <span style="color:#f92672">&#34;RestrictPublicChannelDeletion&#34;</span>: <span style="color:#e6db74">&#34;all&#34;</span>,
        <span style="color:#f92672">&#34;RestrictPrivateChannelDeletion&#34;</span>: <span style="color:#e6db74">&#34;all&#34;</span>,
        <span style="color:#f92672">&#34;UserStatusAwayTimeout&#34;</span>: <span style="color:#ae81ff">300</span>,
        <span style="color:#f92672">&#34;MaxChannelsPerTeam&#34;</span>: <span style="color:#ae81ff">2000</span>,
        <span style="color:#f92672">&#34;MaxNotificationsPerChannel&#34;</span>: <span style="color:#ae81ff">1000000</span>
    },
    <span style="color:#f92672">&#34;SqlSettings&#34;</span>: {
        <span style="color:#f92672">&#34;DriverName&#34;</span>: <span style="color:#e6db74">&#34;postgres&#34;</span>,
        <span style="color:#f92672">&#34;DataSource&#34;</span>: <span style="color:#e6db74">&#34;postgres://mmuser:123456@127.0.0.1:5432/mmtest?sslmode=disable\u0026connect_timeout=10&#34;</span>,
        <span style="color:#f92672">&#34;DataSourceReplicas&#34;</span>: [],
        <span style="color:#f92672">&#34;MaxIdleConns&#34;</span>: <span style="color:#ae81ff">20</span>,
        <span style="color:#f92672">&#34;MaxOpenConns&#34;</span>: <span style="color:#ae81ff">300</span>,
        <span style="color:#f92672">&#34;Trace&#34;</span>: <span style="color:#66d9ef">false</span>,
        <span style="color:#f92672">&#34;AtRestEncryptKey&#34;</span>: <span style="color:#e6db74">&#34;s39t38dnizfxgch3kufhoimk38nyomwj&#34;</span>
    },
    <span style="color:#f92672">&#34;LogSettings&#34;</span>: {
        <span style="color:#f92672">&#34;EnableConsole&#34;</span>: <span style="color:#66d9ef">true</span>,
        <span style="color:#f92672">&#34;ConsoleLevel&#34;</span>: <span style="color:#e6db74">&#34;INFO&#34;</span>,
        <span style="color:#f92672">&#34;EnableFile&#34;</span>: <span style="color:#66d9ef">true</span>,
        <span style="color:#f92672">&#34;FileLevel&#34;</span>: <span style="color:#e6db74">&#34;INFO&#34;</span>,
        <span style="color:#f92672">&#34;FileFormat&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;FileLocation&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;EnableWebhookDebugging&#34;</span>: <span style="color:#66d9ef">true</span>,
        <span style="color:#f92672">&#34;EnableDiagnostics&#34;</span>: <span style="color:#66d9ef">true</span>
    },
    <span style="color:#f92672">&#34;PasswordSettings&#34;</span>: {
        <span style="color:#f92672">&#34;MinimumLength&#34;</span>: <span style="color:#ae81ff">5</span>,
        <span style="color:#f92672">&#34;Lowercase&#34;</span>: <span style="color:#66d9ef">false</span>,
        <span style="color:#f92672">&#34;Number&#34;</span>: <span style="color:#66d9ef">false</span>,
        <span style="color:#f92672">&#34;Uppercase&#34;</span>: <span style="color:#66d9ef">false</span>,
        <span style="color:#f92672">&#34;Symbol&#34;</span>: <span style="color:#66d9ef">false</span>
    },
    <span style="color:#f92672">&#34;FileSettings&#34;</span>: {
        <span style="color:#f92672">&#34;MaxFileSize&#34;</span>: <span style="color:#ae81ff">52428800</span>,
        <span style="color:#f92672">&#34;DriverName&#34;</span>: <span style="color:#e6db74">&#34;local&#34;</span>,
        <span style="color:#f92672">&#34;Directory&#34;</span>: <span style="color:#e6db74">&#34;./data/&#34;</span>,
        <span style="color:#f92672">&#34;EnablePublicLink&#34;</span>: <span style="color:#66d9ef">false</span>,
        <span style="color:#f92672">&#34;PublicLinkSalt&#34;</span>: <span style="color:#e6db74">&#34;5rrmcmfuja88qpn9heodi3edyaw5d6xf&#34;</span>,
        <span style="color:#f92672">&#34;ThumbnailWidth&#34;</span>: <span style="color:#ae81ff">120</span>,
        <span style="color:#f92672">&#34;ThumbnailHeight&#34;</span>: <span style="color:#ae81ff">100</span>,
        <span style="color:#f92672">&#34;PreviewWidth&#34;</span>: <span style="color:#ae81ff">1024</span>,
        <span style="color:#f92672">&#34;PreviewHeight&#34;</span>: <span style="color:#ae81ff">0</span>,
        <span style="color:#f92672">&#34;ProfileWidth&#34;</span>: <span style="color:#ae81ff">128</span>,
        <span style="color:#f92672">&#34;ProfileHeight&#34;</span>: <span style="color:#ae81ff">128</span>,
        <span style="color:#f92672">&#34;InitialFont&#34;</span>: <span style="color:#e6db74">&#34;luximbi.ttf&#34;</span>,
        <span style="color:#f92672">&#34;AmazonS3AccessKeyId&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;AmazonS3SecretAccessKey&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;AmazonS3Bucket&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;AmazonS3Region&#34;</span>: <span style="color:#e6db74">&#34;us-east-1&#34;</span>,
        <span style="color:#f92672">&#34;AmazonS3Endpoint&#34;</span>: <span style="color:#e6db74">&#34;s3.amazonaws.com&#34;</span>,
        <span style="color:#f92672">&#34;AmazonS3SSL&#34;</span>: <span style="color:#66d9ef">true</span>
    },
    <span style="color:#f92672">&#34;EmailSettings&#34;</span>: {
        <span style="color:#f92672">&#34;EnableSignUpWithEmail&#34;</span>: <span style="color:#66d9ef">true</span>,
        <span style="color:#f92672">&#34;EnableSignInWithEmail&#34;</span>: <span style="color:#66d9ef">true</span>,
        <span style="color:#f92672">&#34;EnableSignInWithUsername&#34;</span>: <span style="color:#66d9ef">true</span>,
        <span style="color:#f92672">&#34;SendEmailNotifications&#34;</span>: <span style="color:#66d9ef">false</span>,
        <span style="color:#f92672">&#34;RequireEmailVerification&#34;</span>: <span style="color:#66d9ef">false</span>,
        <span style="color:#f92672">&#34;FeedbackName&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;FeedbackEmail&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;FeedbackOrganization&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;SMTPUsername&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;SMTPPassword&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;SMTPServer&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;SMTPPort&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;ConnectionSecurity&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;InviteSalt&#34;</span>: <span style="color:#e6db74">&#34;x13o9bb1xbnt8phgoekuy9oce67shuee&#34;</span>,
        <span style="color:#f92672">&#34;PasswordResetSalt&#34;</span>: <span style="color:#e6db74">&#34;8xmxdbkfe9ya3couyy6h1oxu81bgsbbc&#34;</span>,
        <span style="color:#f92672">&#34;SendPushNotifications&#34;</span>: <span style="color:#66d9ef">false</span>,
        <span style="color:#f92672">&#34;PushNotificationServer&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;PushNotificationContents&#34;</span>: <span style="color:#e6db74">&#34;generic&#34;</span>,
        <span style="color:#f92672">&#34;EnableEmailBatching&#34;</span>: <span style="color:#66d9ef">false</span>,
        <span style="color:#f92672">&#34;EmailBatchingBufferSize&#34;</span>: <span style="color:#ae81ff">256</span>,
        <span style="color:#f92672">&#34;EmailBatchingInterval&#34;</span>: <span style="color:#ae81ff">30</span>
    },
    <span style="color:#f92672">&#34;RateLimitSettings&#34;</span>: {
        <span style="color:#f92672">&#34;Enable&#34;</span>: <span style="color:#66d9ef">false</span>,
        <span style="color:#f92672">&#34;PerSec&#34;</span>: <span style="color:#ae81ff">10</span>,
        <span style="color:#f92672">&#34;MaxBurst&#34;</span>: <span style="color:#ae81ff">100</span>,
        <span style="color:#f92672">&#34;MemoryStoreSize&#34;</span>: <span style="color:#ae81ff">10000</span>,
        <span style="color:#f92672">&#34;VaryByRemoteAddr&#34;</span>: <span style="color:#66d9ef">true</span>,
        <span style="color:#f92672">&#34;VaryByHeader&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>
    },
    <span style="color:#f92672">&#34;PrivacySettings&#34;</span>: {
        <span style="color:#f92672">&#34;ShowEmailAddress&#34;</span>: <span style="color:#66d9ef">true</span>,
        <span style="color:#f92672">&#34;ShowFullName&#34;</span>: <span style="color:#66d9ef">true</span>
    },
    <span style="color:#f92672">&#34;SupportSettings&#34;</span>: {
        <span style="color:#f92672">&#34;TermsOfServiceLink&#34;</span>: <span style="color:#e6db74">&#34;https://about.mattermost.com/default-terms/&#34;</span>,
        <span style="color:#f92672">&#34;PrivacyPolicyLink&#34;</span>: <span style="color:#e6db74">&#34;https://about.mattermost.com/default-privacy-policy/&#34;</span>,
        <span style="color:#f92672">&#34;AboutLink&#34;</span>: <span style="color:#e6db74">&#34;https://about.mattermost.com/default-about/&#34;</span>,
        <span style="color:#f92672">&#34;HelpLink&#34;</span>: <span style="color:#e6db74">&#34;https://about.mattermost.com/default-help/&#34;</span>,
        <span style="color:#f92672">&#34;ReportAProblemLink&#34;</span>: <span style="color:#e6db74">&#34;https://about.mattermost.com/default-report-a-problem/&#34;</span>,
        <span style="color:#f92672">&#34;SupportEmail&#34;</span>: <span style="color:#e6db74">&#34;feedback@mattermost.com&#34;</span>
    },
    <span style="color:#f92672">&#34;GitLabSettings&#34;</span>: {
        <span style="color:#f92672">&#34;Enable&#34;</span>: <span style="color:#66d9ef">false</span>,
        <span style="color:#f92672">&#34;Secret&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;Id&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;Scope&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;AuthEndpoint&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;TokenEndpoint&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;UserApiEndpoint&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>
    },
    <span style="color:#f92672">&#34;GoogleSettings&#34;</span>: {
        <span style="color:#f92672">&#34;Enable&#34;</span>: <span style="color:#66d9ef">false</span>,
        <span style="color:#f92672">&#34;Secret&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;Id&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;Scope&#34;</span>: <span style="color:#e6db74">&#34;profile email&#34;</span>,
        <span style="color:#f92672">&#34;AuthEndpoint&#34;</span>: <span style="color:#e6db74">&#34;https://accounts.google.com/o/oauth2/v2/auth&#34;</span>,
        <span style="color:#f92672">&#34;TokenEndpoint&#34;</span>: <span style="color:#e6db74">&#34;https://www.googleapis.com/oauth2/v4/token&#34;</span>,
        <span style="color:#f92672">&#34;UserApiEndpoint&#34;</span>: <span style="color:#e6db74">&#34;https://www.googleapis.com/plus/v1/people/me&#34;</span>
    },
    <span style="color:#f92672">&#34;Office365Settings&#34;</span>: {
        <span style="color:#f92672">&#34;Enable&#34;</span>: <span style="color:#66d9ef">false</span>,
        <span style="color:#f92672">&#34;Secret&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;Id&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;Scope&#34;</span>: <span style="color:#e6db74">&#34;User.Read&#34;</span>,
        <span style="color:#f92672">&#34;AuthEndpoint&#34;</span>: <span style="color:#e6db74">&#34;https://login.microsoftonline.com/common/oauth2/v2.0/authorize&#34;</span>,
        <span style="color:#f92672">&#34;TokenEndpoint&#34;</span>: <span style="color:#e6db74">&#34;https://login.microsoftonline.com/common/oauth2/v2.0/token&#34;</span>,
        <span style="color:#f92672">&#34;UserApiEndpoint&#34;</span>: <span style="color:#e6db74">&#34;https://graph.microsoft.com/v1.0/me&#34;</span>
    },
    <span style="color:#f92672">&#34;LdapSettings&#34;</span>: {
        <span style="color:#f92672">&#34;Enable&#34;</span>: <span style="color:#66d9ef">false</span>,
        <span style="color:#f92672">&#34;LdapServer&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;LdapPort&#34;</span>: <span style="color:#ae81ff">389</span>,
        <span style="color:#f92672">&#34;ConnectionSecurity&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;BaseDN&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;BindUsername&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;BindPassword&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;UserFilter&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;FirstNameAttribute&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;LastNameAttribute&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;EmailAttribute&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;UsernameAttribute&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;NicknameAttribute&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;IdAttribute&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;PositionAttribute&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;SyncIntervalMinutes&#34;</span>: <span style="color:#ae81ff">60</span>,
        <span style="color:#f92672">&#34;SkipCertificateVerification&#34;</span>: <span style="color:#66d9ef">false</span>,
        <span style="color:#f92672">&#34;QueryTimeout&#34;</span>: <span style="color:#ae81ff">60</span>,
        <span style="color:#f92672">&#34;MaxPageSize&#34;</span>: <span style="color:#ae81ff">0</span>,
        <span style="color:#f92672">&#34;LoginFieldName&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>
    },
    <span style="color:#f92672">&#34;ComplianceSettings&#34;</span>: {
        <span style="color:#f92672">&#34;Enable&#34;</span>: <span style="color:#66d9ef">false</span>,
        <span style="color:#f92672">&#34;Directory&#34;</span>: <span style="color:#e6db74">&#34;./data/&#34;</span>,
        <span style="color:#f92672">&#34;EnableDaily&#34;</span>: <span style="color:#66d9ef">false</span>
    },
    <span style="color:#f92672">&#34;LocalizationSettings&#34;</span>: {
        <span style="color:#f92672">&#34;DefaultServerLocale&#34;</span>: <span style="color:#e6db74">&#34;zh-CN&#34;</span>,
        <span style="color:#f92672">&#34;DefaultClientLocale&#34;</span>: <span style="color:#e6db74">&#34;zh-CN&#34;</span>,
        <span style="color:#f92672">&#34;AvailableLocales&#34;</span>: <span style="color:#e6db74">&#34;zh-CN&#34;</span>
    },
    <span style="color:#f92672">&#34;SamlSettings&#34;</span>: {
        <span style="color:#f92672">&#34;Enable&#34;</span>: <span style="color:#66d9ef">false</span>,
        <span style="color:#f92672">&#34;Verify&#34;</span>: <span style="color:#66d9ef">false</span>,
        <span style="color:#f92672">&#34;Encrypt&#34;</span>: <span style="color:#66d9ef">false</span>,
        <span style="color:#f92672">&#34;IdpUrl&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;IdpDescriptorUrl&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;AssertionConsumerServiceURL&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;IdpCertificateFile&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;PublicCertificateFile&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;PrivateKeyFile&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;FirstNameAttribute&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;LastNameAttribute&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;EmailAttribute&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;UsernameAttribute&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;NicknameAttribute&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;LocaleAttribute&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;PositionAttribute&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;LoginButtonText&#34;</span>: <span style="color:#e6db74">&#34;With SAML&#34;</span>
    },
    <span style="color:#f92672">&#34;NativeAppSettings&#34;</span>: {
        <span style="color:#f92672">&#34;AppDownloadLink&#34;</span>: <span style="color:#e6db74">&#34;https://about.mattermost.com/downloads/&#34;</span>,
        <span style="color:#f92672">&#34;AndroidAppDownloadLink&#34;</span>: <span style="color:#e6db74">&#34;https://about.mattermost.com/mattermost-android-app/&#34;</span>,
        <span style="color:#f92672">&#34;IosAppDownloadLink&#34;</span>: <span style="color:#e6db74">&#34;https://about.mattermost.com/mattermost-ios-app/&#34;</span>
    },
    <span style="color:#f92672">&#34;ClusterSettings&#34;</span>: {
        <span style="color:#f92672">&#34;Enable&#34;</span>: <span style="color:#66d9ef">false</span>,
        <span style="color:#f92672">&#34;InterNodeListenAddress&#34;</span>: <span style="color:#e6db74">&#34;:8075&#34;</span>,
        <span style="color:#f92672">&#34;InterNodeUrls&#34;</span>: []
    },
    <span style="color:#f92672">&#34;MetricsSettings&#34;</span>: {
        <span style="color:#f92672">&#34;Enable&#34;</span>: <span style="color:#66d9ef">false</span>,
        <span style="color:#f92672">&#34;BlockProfileRate&#34;</span>: <span style="color:#ae81ff">0</span>,
        <span style="color:#f92672">&#34;ListenAddress&#34;</span>: <span style="color:#e6db74">&#34;:8067&#34;</span>
    },
    <span style="color:#f92672">&#34;AnalyticsSettings&#34;</span>: {
        <span style="color:#f92672">&#34;MaxUsersForStatistics&#34;</span>: <span style="color:#ae81ff">2500</span>
    },
    <span style="color:#f92672">&#34;WebrtcSettings&#34;</span>: {
        <span style="color:#f92672">&#34;Enable&#34;</span>: <span style="color:#66d9ef">false</span>,
        <span style="color:#f92672">&#34;GatewayWebsocketUrl&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;GatewayAdminUrl&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;GatewayAdminSecret&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;StunURI&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;TurnURI&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;TurnUsername&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#f92672">&#34;TurnSharedKey&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>
    }
}
</code></pre></div>
</div>

        </div><div id="footer" class="mb-5">
    <hr>
    <div class="container text-center">
        
            <a href="https://twitter.com/Rvn0xsy" class="fab fa-twitter fa-1x" title="Twitter"></a>
        
            <a href="mailto:rvn0xsy@gmail.com" class="fas fa-envelope fa-1x" title="E-mail"></a>
        
    </div>
    
        <div class="container text-center">
            <a href="https://payloads.online" title="- PAYLOADS.ONLINE -"><small>- PAYLOADS.ONLINE -</small></a>
        </div>
    
</div>



<script src="https://cdn.jsdelivr.net/gh/jmnote/plantuml-encoder@1.2.4/dist/plantuml-encoder.min.js" integrity="sha256-Qsk2KRBCN5qVZX7B+8+2IvQl1Aqc723qV1tBCQaVoqo=" crossorigin="anonymous"></script>
<script>
(function(){
  let plantumlPrefix = "language-plantuml";
  Array.prototype.forEach.call(document.querySelectorAll("[class^=" + plantumlPrefix + "]"), function(code){
    let image = document.createElement("IMG");
    image.loading = 'lazy'; 
    image.src = 'http://www.plantuml.com/plantuml/svg/~1' + plantumlEncoder.encode(code.innerText);
    code.parentNode.insertBefore(image, code);
    code.style.display = 'none';
  });
})();
</script>

</body>
</html>
