/*!
 * cxColor 1.1
 * http://code.ciaoca.com/
 * https://github.com/ciaoca/cxColor
 * E-mail: ciaoca@gmail.com
 * Released under the MIT license
 * Date: 2013-07-01
 */
!function(a){a.fn.cxColor=function(b){var c,d,e,f,g,h,i,j,k,l,m,n,o;if(!(this.length<1)){for(b=a.extend({},a.cxColor.defaults,b),c={jqObj:this,fn:{}},c.jqObj.val().length>0&&(b.color=c.jqObj.val()),f=a("<div></div>",{"class":"cxcolor"}).appendTo("body"),j=["00","33","66","99","cc","ff"],k=["ff0000","00ff00","0000ff","ffff00","00ffff","ff00ff"],i="<div class='panel_hd'><a class='reset' href='javascript://' rel='reset'>默认颜色</a><a class='clear' href='javascript://' rel='clear'>清除</a></div>",f.html(i),i="",l=0;2>l;l++)for(m=0;6>m;m++)for(i+="<tr>",i+="<td title='#000000' style='background-color:#000000'>",i+=0==l?"<td title='#"+j[m]+j[m]+j[m]+"' style='background-color:#"+j[m]+j[m]+j[m]+"'>":"<td title='#"+k[m]+"' style='background-color:#"+k[m]+"'>",i+="<td title='#000000' style='background-color:#000000'>",n=0;3>n;n++)for(o=0;6>o;o++)i+="<td title='#"+j[n+3*l]+j[o]+j[m]+"' style='background-color:#"+j[n+3*l]+j[o]+j[m]+"'>";return g=a("<table></table>").html(i).appendTo(f),h=a("<div></div>",{"class":"cxcolor_lock"}).appendTo("body"),c.fn.show=function(){var a=document.body.clientWidth,b=document.body.clientHeight,d=f.outerWidth(),e=f.outerHeight(),g=c.jqObj.offset().top,i=c.jqObj.offset().left,j=c.jqObj.outerWidth(),k=c.jqObj.outerHeight();g=g+e+k>b?g-e:g+k,i=i+d>a?i-(d-j):i,f.css({top:g,left:i}).show(),h.css({width:a,height:b}).show()},c.fn.hide=function(){f.hide(),h.hide()},c.fn.change=function(a){e=a,c.jqObj.val(e).css("backgroundColor",e),c.jqObj.trigger("change"),c.fn.hide()},c.fn.setColor=function(a){return a?(c.fn.change(a),void 0):e},c.fn.reset=function(){c.fn.change(b.color)},c.fn.clear=function(){c.fn.change("")},f.delegate("a","click",function(){if(this.rel){var a=this.rel;switch(a){case"reset":return c.fn.reset(),!1;case"clear":return c.fn.clear(),!1}}}),g.delegate("td","click",function(){var a=this.title;c.fn.change(a)}),c.jqObj.bind("click",function(){c.fn.show()}),h.bind("click",function(){c.fn.hide()}),c.fn.change(b.color),d={jqobj:c.jqobj,show:c.fn.show,hide:c.fn.hide,color:c.fn.setColor,reset:c.fn.reset,clear:c.fn.clear}}},a.cxColor={defaults:{color:"#000000"}}}(jQuery);